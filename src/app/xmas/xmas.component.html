<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Christmas Present Hunt</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        overflow: hidden;
        font-family: "Calibri", "Segoe UI", sans-serif;
        background: linear-gradient(
          to bottom,
          #1a2a4a 0%,
          #4a5f8a 50%,
          #e8f4f8 100%
        );
        height: 100vh;
        position: relative;
      }

      .snow-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1000;
      }

      .snowflake {
        position: absolute;
        top: -10px;
        color: white;
        font-size: 1em;
        opacity: 0.8;
        animation: fall linear infinite;
      }

      @keyframes fall {
        to {
          transform: translateY(100vh) rotate(360deg);
        }
      }

      .ground {
        position: absolute;
        bottom: 0;
        width: 100%;
        height: 25%;
        background: linear-gradient(to bottom, #ffffff 0%, #e8f4f8 100%);
        border-radius: 50% 50% 0 0 / 20% 20% 0 0;
        z-index: 1;
      }

      .tree {
        position: absolute;
      }

      .tree-container {
        position: relative;
        z-index: 30;
        pointer-events: none;
      }

      .tree-trunk {
        width: 18px;
        height: 28px;
        background: linear-gradient(
          to right,
          #6b3410 0%,
          #8b4513 50%,
          #6b3410 100%
        );
        margin: 0 auto;
        border-radius: 3px;
        box-shadow: inset -2px 0 3px rgba(0, 0, 0, 0.4);
        position: relative;
        z-index: 31;
        pointer-events: none;
      }

      .tree-layer {
        width: 0;
        height: 0;
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        pointer-events: none;
      }

      .tree-layer-1 {
        border-left: 25px solid transparent;
        border-right: 25px solid transparent;
        border-bottom: 40px solid #1a5f1a;
        bottom: 110px;
        filter: drop-shadow(2px 2px 3px rgba(0, 0, 0, 0.3));
      }

      .tree-layer-2 {
        border-left: 35px solid transparent;
        border-right: 35px solid transparent;
        border-bottom: 50px solid #228b22;
        bottom: 80px;
        filter: drop-shadow(2px 2px 3px rgba(0, 0, 0, 0.3));
      }

      .tree-layer-3 {
        border-left: 45px solid transparent;
        border-right: 45px solid transparent;
        border-bottom: 60px solid #2d8b2d;
        bottom: 45px;
        filter: drop-shadow(2px 2px 3px rgba(0, 0, 0, 0.3));
      }

      .tree-layer-4 {
        border-left: 55px solid transparent;
        border-right: 55px solid transparent;
        border-bottom: 70px solid #32a032;
        bottom: 5px;
        filter: drop-shadow(2px 2px 3px rgba(0, 0, 0, 0.3));
      }

      .tree-star {
        position: absolute;
        bottom: 148px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 24px;
        color: #ffd700;
        z-index: 32;
        filter: drop-shadow(0 0 5px #ffd700);
        pointer-events: none;
      }

      .tree-ornament {
        position: absolute;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        z-index: 32;
        pointer-events: none;
      }

      .tree-garland {
        position: absolute;
        height: 2px;
        background: repeating-linear-gradient(
          to right,
          #ffd700 0px,
          #ffd700 5px,
          transparent 5px,
          transparent 10px
        );
        z-index: 32;
        pointer-events: none;
      }

      .tree-light {
        position: absolute;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        animation: treeLightGlow 1.5s ease-in-out infinite;
        box-shadow: 0 0 10px currentColor;
        z-index: 32;
        pointer-events: none;
      }

      @keyframes treeLightGlow {
        0%,
        100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.4;
          transform: scale(0.8);
        }
      }

      .present {
        position: absolute;
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, #c41e3a 0%, #a01830 100%);
        border: 3px solid #8b0000;
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 20;
        bottom: 25px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        pointer-events: auto;
      }

      .present:hover {
        transform: scale(1.25) rotate(5deg);
        z-index: 20;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.5);
      }

      .present.left {
        left: -35px;
        transform: rotate(-8deg);
      }

      .present.left:hover {
        transform: scale(1.25) rotate(-3deg);
        z-index: 20;
      }

      .present.right {
        right: -35px;
        transform: rotate(8deg);
      }

      .present.right:hover {
        transform: scale(1.25) rotate(13deg);
        z-index: 20;
      }

      .present::before {
        content: "";
        position: absolute;
        top: 50%;
        left: -3px;
        right: -3px;
        height: 6px;
        background: linear-gradient(to bottom, #ffd700, #ffed4e);
        transform: translateY(-50%);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }

      .present::after {
        content: "";
        position: absolute;
        left: 50%;
        top: -3px;
        bottom: -3px;
        width: 6px;
        background: linear-gradient(to right, #ffd700, #ffed4e);
        transform: translateX(-50%);
        box-shadow: 2px 0 4px rgba(0, 0, 0, 0.2);
      }

      .present-bow {
        position: absolute;
        top: -8px;
        left: 50%;
        transform: translateX(-50%);
        width: 20px;
        height: 10px;
        background: #ffd700;
        border-radius: 50% 50% 0 0;
        z-index: 1;
        pointer-events: none;
      }

      .present-bow::before,
      .present-bow::after {
        content: "";
        position: absolute;
        width: 12px;
        height: 12px;
        background: #ffd700;
        border-radius: 50%;
        top: 0;
        pointer-events: none;
      }

      .present-bow::before {
        left: -10px;
      }

      .present-bow::after {
        right: -10px;
      }

      .message {
        position: fixed;
        background: rgba(255, 255, 255, 0.95);
        padding: 20px 30px;
        border-radius: 15px;
        border: 3px solid #c41e3a;
        font-size: 18px;
        max-width: 400px;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        z-index: 2000;
        animation: popIn 0.5s ease;
      }

      @keyframes popIn {
        0% {
          transform: scale(0) rotate(-180deg);
          opacity: 0;
        }
        100% {
          transform: scale(1) rotate(0deg);
          opacity: 1;
        }
      }

      .festoon {
        position: absolute;
        top: 10%;
        left: 0;
        width: 100%;
        height: 40px;
        z-index: 100;
      }

      .festoon-line {
        position: absolute;
        width: 100%;
        height: 3px;
        background: #2d5016;
        top: 20px;
      }

      .festoon-bulb {
        position: absolute;
        width: 15px;
        height: 20px;
        border-radius: 50% 50% 40% 40%;
        top: 23px;
        animation: glow 2s ease-in-out infinite;
      }

      @keyframes glow {
        0%,
        100% {
          opacity: 1;
          filter: brightness(1);
        }
        50% {
          opacity: 0.6;
          filter: brightness(1.5);
        }
      }

      .celebration {
        position: fixed;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        pointer-events: none;
        z-index: 3000;
        animation: confettiFall 3s ease-out forwards;
      }

      @keyframes confettiFall {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(100vh) rotate(720deg);
          opacity: 0;
        }
      }

      .final-message {
        background: linear-gradient(135deg, #c41e3a 0%, #8b0000 100%);
        color: white;
        font-size: 20px;
        max-width: 600px;
        line-height: 1.6;
      }

      .star {
        position: absolute;
        color: gold;
        font-size: 24px;
        animation: twinkle 2s ease-in-out infinite;
      }

      @keyframes twinkle {
        0%,
        100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.3;
          transform: scale(0.8);
        }
      }

      .snowman {
        position: absolute;
        z-index: 25;
        bottom: 0;
      }

      .snowman-bottom {
        width: 50px;
        height: 50px;
        background: radial-gradient(circle at 30% 30%, #ffffff, #f0f0f0);
        border-radius: 50%;
        position: relative;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      .snowman-middle {
        width: 40px;
        height: 40px;
        background: radial-gradient(circle at 30% 30%, #ffffff, #f0f0f0);
        border-radius: 50%;
        position: absolute;
        bottom: 40px;
        left: 5px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      .snowman-head {
        width: 30px;
        height: 30px;
        background: radial-gradient(circle at 30% 30%, #ffffff, #f0f0f0);
        border-radius: 50%;
        position: absolute;
        bottom: 72px;
        left: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      .snowman-eye {
        width: 4px;
        height: 4px;
        background: black;
        border-radius: 50%;
        position: absolute;
        top: 10px;
      }

      .snowman-eye.left {
        left: 8px;
      }

      .snowman-eye.right {
        right: 8px;
      }

      .snowman-nose {
        width: 0;
        height: 0;
        border-left: 3px solid transparent;
        border-right: 3px solid transparent;
        border-top: 12px solid #ff6b35;
        position: absolute;
        top: 14px;
        left: 50%;
        transform: translateX(-50%) rotate(90deg);
      }

      .snowman-button {
        width: 5px;
        height: 5px;
        background: black;
        border-radius: 50%;
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
      }

      .snowman-hat {
        width: 28px;
        height: 15px;
        background: black;
        position: absolute;
        top: -12px;
        left: 1px;
        border-radius: 2px;
      }

      .snowman-hat::before {
        content: "";
        width: 20px;
        height: 8px;
        background: black;
        position: absolute;
        top: -8px;
        left: 4px;
      }

      .santa-sleigh {
        position: fixed;
        z-index: 500;
        animation: flySanta 25s linear infinite;
        transform-origin: center;
      }

      @keyframes flySanta {
        0% {
          left: -400px;
          top: 35%;
        }
        100% {
          left: 110%;
          top: 40%;
        }
      }

      .sleigh-container {
        position: relative;
        width: 500px;
      }

      .reindeer {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
      }

      .reindeer:nth-child(1) {
        left: 280px;
      }
      .reindeer:nth-child(2) {
        left: 380px;
      }

      .reindeer-body {
        width: 60px;
        height: 40px;
        background: linear-gradient(135deg, #8b4513 0%, #a0522d 100%);
        border-radius: 20px 40px 30px 20px;
        position: relative;
      }

      .reindeer-neck {
        width: 25px;
        height: 35px;
        background: linear-gradient(135deg, #8b4513 0%, #a0522d 100%);
        position: absolute;
        right: -10px;
        top: -30px;
        border-radius: 40% 40% 20% 20%;
        transform: rotate(-10deg);
      }

      .reindeer-head {
        width: 28px;
        height: 32px;
        background: linear-gradient(135deg, #a0522d 0%, #8b4513 100%);
        border-radius: 50% 50% 40% 40%;
        position: absolute;
        right: -8px;
        top: -25px;
      }

      .reindeer-ear {
        width: 10px;
        height: 15px;
        background: #8b4513;
        border-radius: 50% 50% 30% 30%;
        position: absolute;
        top: 2px;
      }

      .reindeer-ear.left {
        left: 4px;
        transform: rotate(-20deg);
      }
      .reindeer-ear.right {
        right: 4px;
        transform: rotate(20deg);
      }

      .reindeer-antler {
        position: absolute;
        top: -8px;
        width: 3px;
        height: 20px;
        background: #654321;
      }

      .reindeer-antler.left {
        left: 5px;
        transform: rotate(-15deg);
      }

      .reindeer-antler.right {
        right: 5px;
        transform: rotate(15deg);
      }

      .reindeer-antler::before,
      .reindeer-antler::after {
        content: "";
        position: absolute;
        width: 2px;
        height: 8px;
        background: #654321;
      }

      .reindeer-antler::before {
        top: 5px;
        left: -4px;
        transform: rotate(-45deg);
      }

      .reindeer-antler::after {
        top: 8px;
        right: -4px;
        transform: rotate(45deg);
      }

      .reindeer-eye {
        width: 5px;
        height: 5px;
        background: #000;
        border-radius: 50%;
        position: absolute;
        top: 12px;
      }

      .reindeer-eye.left {
        left: 8px;
      }
      .reindeer-eye.right {
        right: 8px;
      }

      .reindeer-nose {
        width: 12px;
        height: 12px;
        background: radial-gradient(circle at 30% 30%, #ff4444, #cc0000);
        border-radius: 50%;
        position: absolute;
        bottom: 2px;
        left: 50%;
        transform: translateX(-50%);
        box-shadow: 0 0 15px rgba(255, 0, 0, 0.6);
      }

      .reindeer-leg {
        width: 8px;
        height: 30px;
        background: linear-gradient(to bottom, #8b4513 0%, #654321 100%);
        position: absolute;
        bottom: -30px;
        border-radius: 0 0 3px 3px;
      }

      .reindeer-leg:nth-of-type(1) {
        left: 8px;
      }
      .reindeer-leg:nth-of-type(2) {
        left: 20px;
      }
      .reindeer-leg:nth-of-type(3) {
        right: 20px;
      }
      .reindeer-leg:nth-of-type(4) {
        right: 8px;
      }

      .harness {
        position: absolute;
        height: 3px;
        background: linear-gradient(to right, #8b0000, #cd5c5c);
        top: 50%;
        right: 60px;
        width: 120px;
        border-radius: 2px;
      }

      .sleigh {
        width: 180px;
        height: 80px;
        background: linear-gradient(135deg, #dc143c 0%, #8b0000 100%);
        border-radius: 60px 60px 20px 20px;
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        border: 4px solid #8b0000;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
      }

      .sleigh-pattern {
        position: absolute;
        width: 100%;
        height: 100%;
        background: repeating-linear-gradient(
          45deg,
          transparent,
          transparent 10px,
          rgba(255, 255, 255, 0.1) 10px,
          rgba(255, 255, 255, 0.1) 20px
        );
        border-radius: 60px 60px 20px 20px;
      }

      .sleigh-runner {
        width: 200px;
        height: 12px;
        background: linear-gradient(to right, #ffd700, #ffa500, #ffd700);
        border-radius: 50px;
        position: absolute;
        bottom: -20px;
        left: -10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      }

      .sleigh-runner::before {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          to bottom,
          rgba(255, 255, 255, 0.4),
          transparent
        );
        border-radius: 50px;
      }

      .santa {
        position: absolute;
        left: 60px;
        top: -60px;
      }

      .santa-body {
        width: 50px;
        height: 60px;
        background: linear-gradient(135deg, #dc143c 0%, #8b0000 100%);
        border-radius: 10px;
        position: relative;
      }

      .santa-belt {
        position: absolute;
        width: 100%;
        height: 12px;
        background: #000;
        top: 40px;
      }

      .santa-buckle {
        position: absolute;
        width: 18px;
        height: 14px;
        background: #ffd700;
        border: 2px solid #b8860b;
        left: 50%;
        transform: translateX(-50%);
        top: -1px;
      }

      .santa-arm {
        width: 18px;
        height: 45px;
        background: linear-gradient(135deg, #dc143c 0%, #8b0000 100%);
        border-radius: 10px;
        position: absolute;
        top: 10px;
      }

      .santa-arm.left {
        left: -12px;
        transform: rotate(-30deg);
      }

      .santa-arm.right {
        right: -12px;
        transform: rotate(30deg);
      }

      .santa-hand {
        width: 14px;
        height: 14px;
        background: #ffd7b5;
        border-radius: 50%;
        position: absolute;
        bottom: -5px;
        left: 50%;
        transform: translateX(-50%);
      }

      .santa-head {
        width: 38px;
        height: 40px;
        background: radial-gradient(circle at 30% 30%, #ffd7b5, #f0c5a0);
        border-radius: 50%;
        position: absolute;
        top: -35px;
        left: 6px;
      }

      .santa-hat {
        width: 45px;
        height: 35px;
        background: linear-gradient(135deg, #dc143c 0%, #8b0000 100%);
        position: absolute;
        top: -30px;
        left: -3px;
        border-radius: 50% 50% 0 0;
        transform: rotate(-10deg);
      }

      .santa-hat-brim {
        position: absolute;
        width: 50px;
        height: 10px;
        background: white;
        bottom: 0;
        left: -2px;
        border-radius: 5px;
      }

      .santa-hat-pompom {
        width: 15px;
        height: 15px;
        background: white;
        border-radius: 50%;
        position: absolute;
        top: -5px;
        right: -8px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }

      .santa-beard {
        width: 32px;
        height: 25px;
        background: white;
        position: absolute;
        bottom: 0;
        left: 3px;
        border-radius: 0 0 50% 50%;
      }

      .santa-mustache {
        width: 24px;
        height: 10px;
        background: white;
        position: absolute;
        top: 22px;
        left: 7px;
        border-radius: 50% 50% 0 0;
      }

      .santa-nose {
        width: 8px;
        height: 8px;
        background: #ff6b6b;
        border-radius: 50%;
        position: absolute;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
      }

      .santa-eye {
        width: 5px;
        height: 5px;
        background: #000;
        border-radius: 50%;
        position: absolute;
        top: 12px;
      }

      .santa-eye.left {
        left: 10px;
      }
      .santa-eye.right {
        right: 10px;
      }

      .gift-sack {
        width: 45px;
        height: 50px;
        background: linear-gradient(135deg, #8b4513 0%, #a0522d 100%);
        border-radius: 0 0 50% 50%;
        position: absolute;
        right: 20px;
        top: -30px;
      }

      .gift-sack::before {
        content: "";
        width: 40px;
        height: 8px;
        background: #ffd700;
        position: absolute;
        top: 0;
        left: 2px;
        border-radius: 5px;
      }

      .title {
        position: fixed;
        top: 5%;
        left: 50%;
        transform: translateX(-50%);
        font-size: 42px;
        font-weight: bold;
        color: #fff;
        text-align: center;
        text-shadow:
          3px 3px 0 #c41e3a,
          -1px -1px 0 #c41e3a,
          1px -1px 0 #c41e3a,
          -1px 1px 0 #c41e3a,
          1px 1px 0 #c41e3a,
          0 0 20px rgba(196, 30, 58, 0.8);
        z-index: 150;
        animation: titleBounce 2s ease-in-out infinite;
        pointer-events: none;
      }

      @keyframes titleBounce {
        0%,
        100% {
          transform: translateX(-50%) translateY(0);
        }
        50% {
          transform: translateX(-50%) translateY(-10px);
        }
      }
    </style>
  </head>
  <body>
    <div class="title">Click the presents for a surprise!</div>
    <div class="snow-container" id="snowContainer"></div>
    <div class="festoon" id="festoon"></div>
    <div class="ground"></div>

    <script>
      (function () {
        const messages = [
          {
            message: "Haha you thought this had a present, try another one.",
            x: 3,
            y: 15,
          },
          {
            message: "Nope, just more tinsel in this one. Keep hunting!",
            x: 13,
            y: 40,
          },
          {
            message: "Rudolph ate the gift in here. Maybe the next box?",
            x: 25,
            y: 65,
          },
          {
            message: "Santa said this one is only filled with giggles.",
            x: 38,
            y: 25,
          },
          {
            message: "Plot twist: it's empty wrapping paper. Next!",
            x: 51,
            y: 80,
          },
          {
            message: "Elves are on break, so this box is a decoy.",
            x: 63,
            y: 35,
          },
          {
            message: "This one contains... dramatic suspense. Keep going!",
            x: 75,
            y: 55,
          },
          {
            message: "Almost there! But this gift took a holiday.",
            x: 85,
            y: 20,
          },
          {
            message: "Close! This present is just jingling bells.",
            x: 92,
            y: 70,
          },
          {
            message: "Whoops, this one's stuffed with candy wrappers.",
            x: 45,
            y: 45,
          },
        ];

        const finalMessage =
          "Merry Christmas Mum & Dad, TeAna and I have booked you in for a nice meal at the Central Fire Station Bistro in Napier, we hope you enjoy (it's got good reviews lol). Love you guys!";

        const shuffled = [...messages];
        for (let i = shuffled.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
        }

        let clickedCount = 0;

        const leftSide = [0, 3, 7];

        for (let i = 0; i < 10; i++) {
          const treeContainer = document.createElement("div");
          treeContainer.className = "tree";
          treeContainer.style.left = shuffled[i].x + "%";
          treeContainer.style.bottom = shuffled[i].y / 5 + "%";

          const present = document.createElement("div");
          present.className = leftSide.includes(i)
            ? "present left"
            : "present right";
          present.innerHTML = '<div class="present-bow"></div>';

          const messageIndex = i;
          present.addEventListener("click", function (e) {
            e.stopPropagation();
            present.style.display = "none";
            clickedCount++;

            if (clickedCount === 10) {
              showFinalMessage();
            } else {
              showMessage(shuffled[messageIndex].message);
            }
          });

          treeContainer.appendChild(present);

          const treeStructure = document.createElement("div");
          treeStructure.className = "tree-container";
          treeStructure.innerHTML = `
                    <div class="tree-star">★</div>
                    <div class="tree-layer tree-layer-1"></div>
                    <div class="tree-layer tree-layer-2"></div>
                    <div class="tree-layer tree-layer-3"></div>
                    <div class="tree-layer tree-layer-4"></div>
                    <div class="tree-trunk"></div>
                `;

          const ornamentColors = [
            "#ff0000",
            "#ffd700",
            "#0000ff",
            "#ff69b4",
            "#9370db",
          ];
          for (let j = 0; j < 6; j++) {
            const ornament = document.createElement("div");
            ornament.className = "tree-ornament";
            ornament.style.background =
              ornamentColors[Math.floor(Math.random() * ornamentColors.length)];
            ornament.style.left = 20 + Math.random() * 60 + "%";
            ornament.style.bottom = 15 + Math.random() * 100 + "px";
            treeStructure.appendChild(ornament);
          }

          for (let k = 1; k <= 3; k++) {
            const garland = document.createElement("div");
            garland.className = "tree-garland";
            garland.style.width = 90 - k * 20 + "px";
            garland.style.left = "50%";
            garland.style.transform = "translateX(-50%)";
            garland.style.bottom = 30 + k * 30 + "px";
            treeStructure.appendChild(garland);
          }

          const lightColors = [
            "#ff0000",
            "#ffd700",
            "#00ff00",
            "#0000ff",
            "#ff69b4",
            "#ffff00",
          ];
          const numLights = 6 + Math.floor(Math.random() * 4);
          for (let j = 0; j < numLights; j++) {
            const light = document.createElement("div");
            light.className = "tree-light";
            light.style.background =
              lightColors[Math.floor(Math.random() * lightColors.length)];
            light.style.left = 20 + Math.random() * 60 + "%";
            light.style.bottom = 10 + Math.random() * 110 + "px";
            light.style.animationDelay = Math.random() * 1.5 + "s";
            treeStructure.appendChild(light);
          }

          treeContainer.appendChild(treeStructure);
          document.body.appendChild(treeContainer);
        }

        const snowmanPositions = [{ x: 20 }, { x: 55 }, { x: 80 }];

        snowmanPositions.forEach(function (pos) {
          const snowman = document.createElement("div");
          snowman.className = "snowman";
          snowman.style.left = pos.x + "%";
          snowman.innerHTML = `
                    <div class="snowman-bottom"></div>
                    <div class="snowman-middle">
                        <div class="snowman-button" style="top: 10px;"></div>
                        <div class="snowman-button" style="top: 25px;"></div>
                    </div>
                    <div class="snowman-head">
                        <div class="snowman-eye left"></div>
                        <div class="snowman-eye right"></div>
                        <div class="snowman-nose"></div>
                        <div class="snowman-hat"></div>
                    </div>
                `;
          document.body.appendChild(snowman);
        });

        const santaSleigh = document.createElement("div");
        santaSleigh.className = "santa-sleigh";
        santaSleigh.innerHTML = `
                <div class="sleigh-container">
                    <div class="reindeer">
                        <div class="reindeer-body">
                            <div class="reindeer-neck">
                                <div class="reindeer-head">
                                    <div class="reindeer-ear left"></div>
                                    <div class="reindeer-ear right"></div>
                                    <div class="reindeer-antler left"></div>
                                    <div class="reindeer-antler right"></div>
                                    <div class="reindeer-eye left"></div>
                                    <div class="reindeer-eye right"></div>
                                    <div class="reindeer-nose"></div>
                                </div>
                            </div>
                            <div class="reindeer-leg"></div>
                            <div class="reindeer-leg"></div>
                            <div class="reindeer-leg"></div>
                            <div class="reindeer-leg"></div>
                        </div>
                        <div class="harness"></div>
                    </div>
                    <div class="reindeer">
                        <div class="reindeer-body">
                            <div class="reindeer-neck">
                                <div class="reindeer-head">
                                    <div class="reindeer-ear left"></div>
                                    <div class="reindeer-ear right"></div>
                                    <div class="reindeer-antler left"></div>
                                    <div class="reindeer-antler right"></div>
                                    <div class="reindeer-eye left"></div>
                                    <div class="reindeer-eye right"></div>
                                </div>
                            </div>
                            <div class="reindeer-leg"></div>
                            <div class="reindeer-leg"></div>
                            <div class="reindeer-leg"></div>
                            <div class="reindeer-leg"></div>
                        </div>
                        <div class="harness"></div>
                    </div>
                    <div class="sleigh">
                        <div class="sleigh-pattern"></div>
                        <div class="sleigh-runner"></div>
                        <div class="santa">
                            <div class="santa-arm left">
                                <div class="santa-hand"></div>
                            </div>
                            <div class="santa-arm right">
                                <div class="santa-hand"></div>
                            </div>
                            <div class="santa-body">
                                <div class="santa-belt">
                                    <div class="santa-buckle"></div>
                                </div>
                            </div>
                            <div class="santa-head">
                                <div class="santa-hat">
                                    <div class="santa-hat-brim"></div>
                                    <div class="santa-hat-pompom"></div>
                                </div>
                                <div class="santa-eye left"></div>
                                <div class="santa-eye right"></div>
                                <div class="santa-nose"></div>
                                <div class="santa-mustache"></div>
                                <div class="santa-beard"></div>
                            </div>
                        </div>
                        <div class="gift-sack"></div>
                    </div>
                </div>
            `;
        document.body.appendChild(santaSleigh);

        function showMessage(text) {
          const msg = document.createElement("div");
          msg.className = "message";
          msg.textContent = text;
          msg.style.left = "50%";
          msg.style.top = "50%";
          msg.style.transform = "translate(-50%, -50%)";
          document.body.appendChild(msg);

          setTimeout(function () {
            msg.remove();
          }, 3000);
        }

        function showFinalMessage() {
          const msg = document.createElement("div");
          msg.className = "message final-message";
          msg.textContent = finalMessage;
          msg.style.left = "50%";
          msg.style.top = "50%";
          msg.style.transform = "translate(-50%, -50%)";
          document.body.appendChild(msg);

          createConfetti();
          intensifySnow();
          addStars();
        }

        function createConfetti() {
          const colors = [
            "#c41e3a",
            "#ffd700",
            "#228b22",
            "#ffffff",
            "#4169e1",
          ];
          for (let i = 0; i < 100; i++) {
            setTimeout(function () {
              const confetti = document.createElement("div");
              confetti.className = "celebration";
              confetti.style.left = Math.random() * 100 + "%";
              confetti.style.top = "-10px";
              confetti.style.background =
                colors[Math.floor(Math.random() * colors.length)];
              confetti.style.animationDelay = Math.random() * 0.5 + "s";
              document.body.appendChild(confetti);

              setTimeout(function () {
                confetti.remove();
              }, 3000);
            }, i * 30);
          }
        }

        function intensifySnow() {
          for (let i = 0; i < 50; i++) {
            createSnowflake();
          }
        }

        function addStars() {
          for (let i = 0; i < 20; i++) {
            const star = document.createElement("div");
            star.className = "star";
            star.textContent = "★";
            star.style.left = Math.random() * 100 + "%";
            star.style.top = Math.random() * 50 + "%";
            star.style.animationDelay = Math.random() * 2 + "s";
            document.body.appendChild(star);
          }
        }

        function createSnowflake() {
          const snowflake = document.createElement("div");
          snowflake.className = "snowflake";
          snowflake.textContent = "❄";
          snowflake.style.left = Math.random() * 100 + "%";
          snowflake.style.fontSize = Math.random() * 1.5 + 0.5 + "em";
          snowflake.style.animationDuration = Math.random() * 3 + 2 + "s";
          snowflake.style.animationDelay = Math.random() * 2 + "s";
          document.getElementById("snowContainer").appendChild(snowflake);

          setTimeout(function () {
            snowflake.remove();
          }, 5000);
        }

        for (let i = 0; i < 50; i++) {
          createSnowflake();
        }

        setInterval(createSnowflake, 200);

        const festoon = document.getElementById("festoon");
        const line = document.createElement("div");
        line.className = "festoon-line";
        festoon.appendChild(line);

        const colors = ["#c41e3a", "#ffd700", "#228b22", "#4169e1", "#ff69b4"];
        for (let i = 0; i < 20; i++) {
          const bulb = document.createElement("div");
          bulb.className = "festoon-bulb";
          bulb.style.left = i * 5 + 2 + "%";
          bulb.style.background = colors[i % colors.length];
          bulb.style.animationDelay = i * 0.1 + "s";
          festoon.appendChild(bulb);
        }
      })();
    </script>
  </body>
</html>
